(window.webpackJsonp=window.webpackJsonp||[]).push([[143],{"0kTQ":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("k49u"),i=n("3XMw");const s=n.n(i).a.b20a3893,o={[a.a.TargetUserNotFound]:{toast:{text:s}},showToast:!0}},Ddqr:function(e,t,n){"use strict";var a=n("KEM+"),i=n.n(a),s=n("ERkP"),o=n("38/B"),r=n("xKuM"),l=n("/yvb"),c=n("w9LO"),d=n("3XMw"),u=n.n(d),h=n("hOZg"),m=n("0FVZ"),p=n("rHpw"),b=n("k/Ka"),f=n("shC7"),g=n("MWbm");const _=u.a.af8fa2ad,w=s.createElement(h.a,null);class C extends s.Component{constructor(e){super(),i()(this,"_isMounted",!0),i()(this,"_setAnimationNode",(e=>{this._animationNode=e})),i()(this,"_handleTransitionEnd",(e=>{!1===this.state.isVisible&&e.target instanceof window.HTMLElement&&e.target===this._animationNode&&this.props.onDismissed()})),i()(this,"_handleMaskClick",(()=>{this._handleDismiss()})),i()(this,"_handleEsc",(e=>{const{altKey:t,ctrlKey:n,metaKey:a,key:i}=e;!(t||n||a)&&"Escape"===i&&this._handleDismiss()})),i()(this,"_handleDismiss",(()=>{this.setState({isVisible:!1}),o.a.reducedMotionEnabled&&this.props.onDismissed()})),this.state={isVisible:!1}}componentDidMount(){window.requestAnimationFrame((()=>{this._isMounted&&this.setState({isVisible:!0})}))}componentWillUnmount(){this._isMounted=!1}render(){const{align:e,children:t,style:n,title:a,subtitle:i,additionalControl:l,buttonType:d}=this.props,{isVisible:u}=this.state,h=u?E.visibleDrawer:"left"===e===f.a.getConstants().isRTL?E.offscreenRightDrawer:E.offscreenLeftDrawer,p=u?E.maskWithBg:E.maskTransparent,_=u?E.animateOpen:E.animateClose,w=o.a.reducedMotionEnabled?null:_;return s.createElement(m.a.Modal,null,s.createElement(c.a,{withKeyboardNavigation:!0},s.createElement(g.a,{onClick:this._handleMaskClick,onKeyUp:this._handleEsc,style:[E.mask,p,w,"left"===e?E.alignLeft:E.alignRight]},Object(b.a)("div",{onTransitionEnd:this._handleTransitionEnd,ref:this._setAnimationNode,onClick:k,style:[E.root,h,w,n],children:s.createElement(s.Fragment,null,s.createElement(r.a,{leftControl:"left"===e?l:"right"===e?this._renderCloseButton(d):null,rightControl:"left"===e?this._renderCloseButton(d):"right"===e?l:null,style:E.appBar,subtitle:i,title:a}),s.createElement(g.a,{style:E.contentContainer},t))}))))}_renderCloseButton(e){return s.createElement(l.a,{accessibilityLabel:_,icon:w,onPress:this._handleMaskClick,type:e})}}i()(C,"defaultProps",{align:"left",onDismissed:()=>{}});const k=e=>{e.stopPropagation()},E=p.a.create((e=>({mask:{...p.a.absoluteFillObject,position:"fixed",transitionProperty:"background-color",transitionTimingFunction:"ease"},maskWithBg:{backgroundColor:e.colors.maskColor},maskTransparent:{backgroundColor:e.colors.transparent},root:{display:"flex",flexDirection:"column",backgroundColor:e.colors.navigationBackground,boxShadow:e.boxShadows.small,minWidth:280,maxWidth:"100%",flexGrow:1,flexShrink:1,minHeight:0,height:"100vh",transitionProperty:"transform",transitionTimingFunction:"ease"},visibleDrawer:{transform:[{translateX:"0%"}]},offscreenLeftDrawer:{transform:[{translateX:"-100%"}]},offscreenRightDrawer:{transform:[{translateX:"100%"}]},alignLeft:{alignItems:"flex-start"},alignRight:{alignItems:"flex-end"},animateOpen:{transitionDuration:"250ms"},animateClose:{transitionDuration:"200ms"},appBar:{borderBottomWidth:e.borderWidths.small,borderBottomColor:e.colors.nestedBorderColor,paddingHorizontal:e.spaces.space16},contentContainer:{flexGrow:1,flexShrink:1,minHeight:0,overflowY:"auto",overscrollBehavior:"contain"}})));t.a=C},xXOT:function(e,t,n){"use strict";n.r(t),n.d(t,"DashMenu",(function(){return H}));var a=n("KEM+"),i=n.n(a),s=(n("kYxP"),n("ERkP")),o=n("rxPX"),r=n("0KEI"),l=n("H9MA"),c=n("G6rE"),d=n("auX9");var u=Object(o.a)().propsFromState((()=>({loggedInUser:c.e.selectLoggedInUser,multiAccountUsers:d.k,showMultiAccountOverflowPip:d.i}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(r.d)("DASH_MENU_ACCOUNT_SWITCH"),fetchDataUsageSettingsIfNeeded:l.b,switchAccount:d.l}))).withAnalytics({page:"dash"}),h=n("VN5n"),m=n("zb92"),p=Object(m.a)({loader:()=>Promise.all([n.e(0),n.e(155)]).then(n.bind(null,"sAnO"))}),b=n("JGUy"),f=n("3XMw"),g=n.n(f),_=n("0kTQ"),w=n("Es6L"),C=n("45lU"),k=n("9qNn"),E=n("MWbm"),y=n("oSwX"),M=n("/yvb"),v=n("Znyr"),A=n("cm6r"),D=n("jV+4"),x=n("wCd/"),S=n("Ddqr"),O=n("v6aA"),P=n("iY63"),L=n("ACHU");const T=g.a.i5f7b6b8,N=g.a.c5960556,U=g.a.da4691aa,B=g.a.c7e55cce,I=g.a.d86bbf0f,F=g.a.h6beb5fa;class H extends s.Component{constructor(...e){super(...e),i()(this,"_renderMenuContent",(({withPadding:e})=>{const{loggedInUser:t,multiAccountUsers:n,showMultiAccountOverflowPip:a,onClose:i,withMoreSideNavOverflow:o}=this.props;if(!t)return null;const{followers_count:r,friends_count:l,name:c,profile_image_url_https:d,protected:u,screen_name:m,translator_type:p,verified:b}=t;return Object(w.a)()?s.createElement(h.a,{onClose:i,withMoreSideNavOverflow:o}):s.createElement(E.a,{style:[e&&C.a.scrollableContentPadding,Object(w.a)()&&C.a.menuContentWidth]},s.createElement(E.a,{style:C.a.header},s.createElement(E.a,{accessibilityHidden:!0,style:[C.a.item,C.a.itemAccount]},s.createElement(E.a,{style:C.a.avatarWrapper},s.createElement(y.default,{onClick:this._handleProfileClick,screenName:m,size:"xLarge",uri:d,withLink:!0})),this._renderMultiAccountUsers(),s.createElement(E.a,null,s.createElement(M.a,{accessibilityLabel:U,icon:0===n.length?s.createElement(P.a,null):s.createElement(L.a,null),link:"/account/switch",onPress:this._handleSwitcherButton,size:"normalCompact",testID:k.a.switcher,type:"secondary"}),a?s.createElement(v.a,{pip:!0,truncatedCountFormatter:F,unreadCountLabel:I}):null)),s.createElement(E.a,null,s.createElement(A.a,{accessibilityLabel:T,interactiveStyles:null,link:`/${m}`,onClick:this._handleProfileClick,style:[C.a.item,C.a.userNames]},s.createElement(D.a,{badgeContext:"account",isProtected:u,isVerified:b,name:c,screenName:m,translatorType:p,withStackedLayout:!0}))),Object(w.a)()?null:s.createElement(x.a,{followersCount:r,friendsCount:l,screenName:m,style:[C.a.item,C.a.itemProfileStats]})),s.createElement(h.a,{onClose:i}))})),i()(this,"_renderMultiAccountUsers",(()=>{const{multiAccountUsers:e}=this.props;return e.map((e=>s.createElement(E.a,{accessibilityLabel:B({screenname:e.screen_name}),accessibilityRole:"button",key:e.user_id,onClick:this._handleMultiAccountSwitch(e.user_id,!!e.badgeCount,e.is_protected),style:C.a.multiAccountLink},s.createElement(y.default,{circle:!0,size:"large",uri:e.avatar_image_url}),e.badgeCount?s.createElement(v.a,{count:e.badgeCount,truncatedCountFormatter:F,unreadCountLabel:I}):null)))})),i()(this,"_handleMenuItemClick",(e=>()=>{const{analytics:t,onClose:n}=this.props;e&&t.scribe({section:"overflow_menu",element:e,action:"click"}),n&&n()})),i()(this,"_handleProfileClick",this._handleMenuItemClick("profile_overflow_item")),i()(this,"_handleSimpleClick",this._handleMenuItemClick()),i()(this,"_handleMultiAccountSwitch",((e,t,n)=>()=>{const{createLocalApiErrorHandler:a,analytics:i,switchAccount:s}=this.props;i.scribe({section:n?"switch_to_protected_account":"switch_account",element:t?"account_bubble_badged":"account_bubble",action:"click"}),s({user_id:e}).catch(a(_.a))})),i()(this,"_handleSwitcherButton",(()=>{const{onClose:e,analytics:t}=this.props;t.scribe({section:"switch_account",element:"dash_account_switcher",action:"click"}),e&&e()}))}UNSAFE_componentWillMount(){const{fetchDataUsageSettingsIfNeeded:e,analytics:t}=this.props;e(),t.scribePageImpression()}render(){const{onClose:e,alignMenu:t}=this.props,n=Object(b.b)(this.context.featureSwitches);return Object(w.a)()?s.createElement(p,{animateInDuration:"long",isFixed:!0,onDismiss:e,preferredHorizontalOrientation:"right",preferredVerticalOrientation:"up"},this._renderMenuContent({withPadding:!1})):s.createElement(S.a,{align:t,buttonType:n,onDismissed:e,style:C.a.drawer,title:N},this._renderMenuContent({withPadding:!0}))}}i()(H,"contextType",O.a);const W=u(H);t.default=W}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/client-web/loader.DashMenu.06237aa5.js.map